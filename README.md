# اسکریپت نصب خودکار سرور برای اوبونتو ۲۲

این اسکریپت به‌صورت خودکار نصب و پیکربندی پیش‌نیازهای نرم‌افزاری را برای اوبونتو ۲۲ انجام می‌دهد.

## قابلیت‌ها

- نصب و پیکربندی MySQL
- نصب و راه‌اندازی phpMyAdmin
- ایجاد کاربر و رمز عبور امن تصادفی
- نصب Node.js و NPM
- نصب و راه‌اندازی Express.js
- ایجاد پروژه نمونه با فرانت‌اند ساده
- ایجاد اسکریپت برای ایمپورت دیتابیس
- راه‌اندازی خودکار سرور با PM2

## پیش‌نیازها

- سیستم عامل Ubuntu 22.04 LTS
- دسترسی روت (sudo)
- اتصال به اینترنت

## نحوه نصب

### ۱. دریافت اسکریپت

```bash
git clone https://github.com/username/repository.git
cd repository
```

یا می‌توانید فایل اسکریپت را مستقیما دانلود کنید:

```bash
wget https://raw.githubusercontent.com/username/repository/main/setup_ubuntu22.sh
```

### ۲. دادن دسترسی اجرا به اسکریپت

```bash
chmod +x setup_ubuntu22.sh
```

### ۳. اجرای اسکریپت با دسترسی روت

```bash
sudo ./setup_ubuntu22.sh
```

## مستندات

در طول اجرای اسکریپت، اطلاعات زیر ایجاد و نمایش داده می‌شوند:

- نام کاربری و رمز عبور تصادفی برای MySQL
- نام کاربری و رمز عبور برای phpMyAdmin
- نام کاربری و رمز عبور برای کاربر root

تمام این اطلاعات در فایل `mysql_credentials.txt` در همان دایرکتوری ذخیره می‌شوند.

### دسترسی به phpMyAdmin

پس از نصب، می‌توانید به phpMyAdmin از طریق آدرس زیر دسترسی داشته باشید:

```
http://server-ip/phpmyadmin
```

### دسترسی به برنامه Express.js

برنامه Express.js در پورت ۳۰۰۰ اجرا می‌شود و می‌توانید از طریق آدرس زیر به آن دسترسی داشته باشید:

```
http://server-ip:3000
```

### مدیریت سرور با PM2

برای مدیریت سرور Express.js، دستورات زیر را می‌توانید استفاده کنید:

```bash
# نمایش وضعیت سرور
pm2 status

# راه‌اندازی مجدد سرور
pm2 restart expressapp

# مشاهده لاگ‌ها
pm2 logs expressapp
```

### ایمپورت دیتابیس

برای ایمپورت دیتابیس، می‌توانید از اسکریپت `import_database.sh` استفاده کنید:

```bash
cd /opt/expressapp
./import_database.sh path/to/your/database.sql
```

## توجه

- رمزهای عبور به‌صورت تصادفی ایجاد می‌شوند و باید در مکانی امن نگهداری شوند.
- این اسکریپت برای استفاده در محیط‌های توسعه و آزمایشی طراحی شده است.
- برای محیط‌های تولیدی، توصیه می‌شود تنظیمات امنیتی بیشتری اعمال شود.

## تغییرات نسخه v2.3

- اضافه شدن تولید خودکار رمز عبور و نام کاربری تصادفی
- اضافه شدن پیکربندی خودکار MySQL با expect
- بهبود مستندات و راهنمای نصب
- ذخیره اطلاعات احراز هویت در فایل جداگانه
- بهبود امنیت و خودکارسازی بیشتر فرآیند نصب
